{"ast":null,"code":"var _jsxFileName = \"/Users/hadiramlaoui/Desktop/csc600/final-project-fullstacksquad/client/src/instruments/Drums.tsx\";\n// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react'; // project imports\n\nimport { MembraneInstrument } from '../DrumnIstrument'; //Drum components \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function DrumKey(_ref) {\n  let {\n    note,\n    synth,\n    index\n  } = _ref;\n\n  /**\n   * This React component corresponds to either a major or minor key in the Drums.\n   * See `DrumsKeyWithoutJSX` for the React component without JSX.\n   */\n  // colors for drums\n  const colors = ['#ba53c2', '#9c51bd', '#744caf', '#4d439c', '#33378a'];\n  return (\n    /*#__PURE__*/\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    _jsxDEV(\"div\", {\n      onMouseDown: () => synth === null || synth === void 0 ? void 0 : synth.triggerAttackRelease(`${note}`, '8n'),\n      className: classNames('pointer relative drum top'),\n      style: {\n        // CSS\n        // padding: 10,\n        // margin: 20,\n        // backgroundColor: '#D2B48C',\n        backgroundColor: colors[index],\n        display: \"inline-block\",\n        borderRadius: \"50%\",\n        width: 175 - index * 15,\n        height: 175 - index * 15,\n        marginLeft: index + 10,\n        marginRight: 5 - index // left: `${(index*12)}rem`,\n\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  );\n} // eslint-disable-next-line\n\n_c = DrumKey;\n\nfunction PianoKeyWithoutJSX(_ref2) {\n  let {\n    note,\n    synth,\n    minor,\n    index\n  } = _ref2;\n\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return /*#__PURE__*/React.createElement('div', {\n    onMouseDown: () => synth === null || synth === void 0 ? void 0 : synth.triggerAttack(`${note}`),\n    onMouseUp: () => synth === null || synth === void 0 ? void 0 : synth.triggerRelease('+0.25'),\n    className: classNames('ba pointer absolute dim', {\n      'bg-black black h3': minor,\n      'black bg-white h4': !minor\n    }),\n    style: {\n      top: 0,\n      left: `${index * 2}rem`,\n      zIndex: minor ? 1 : 0,\n      width: minor ? '1.5rem' : '2rem',\n      marginLeft: minor ? '0.25rem' : 0\n    }\n  }, []);\n}\n\n_c2 = PianoKeyWithoutJSX;\n\nfunction DrumType(_ref3) {\n  let {\n    title,\n    onClick,\n    active\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n      'b--black black': active,\n      'gray b--light-gray': !active\n    }),\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = DrumType;\n\nfunction Drums(_ref4) {\n  let {\n    synth,\n    setSynth\n  } = _ref4;\n  const keys = List([{\n    note: 'A1',\n    idx: 0\n  }, {\n    note: 'B1',\n    idx: 1\n  }, {\n    note: 'D2',\n    idx: 2\n  }, {\n    note: 'C2',\n    idx: 3\n  }, {\n    note: 'E2',\n    idx: 4\n  }]);\n\n  const setOscillator = newType => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n      return new Tone.MembraneSynth({\n        oscillator: {\n          type: newType\n        },\n        \"envelope\": {\n          \"attack\": 0.001,\n          \"decay\": 0.35,\n          \"sustain\": 0.01,\n          \"release\": 1.4\n        },\n        \"octaves\": 9,\n        \"pitchDecay\": 0.0005\n      }).toDestination();\n    });\n  };\n\n  const oscillators = List(['sine', 'sawtooth', 'square', 'triangle', 'fmsine', 'fmsawtooth', 'fmtriangle', 'amsine', 'amsawtooth', 'amtriangle']);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pv4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative dib h4 w-100 ml4\",\n      children: Range(2, 7).map(octave => keys.map(key => {\n        const isMinor = key.note.indexOf('b') !== -1;\n        const note = `${key.note}${octave}`;\n        return /*#__PURE__*/_jsxDEV(DrumKey, {\n          //react key\n          note: note,\n          synth: synth,\n          minor: isMinor,\n          octave: octave,\n          index: (octave - 2) * 7 + key.idx\n        }, note, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this);\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'pl4 pt4 flex',\n      children: oscillators.map(o => /*#__PURE__*/_jsxDEV(DrumType, {\n        title: o,\n        onClick: () => setOscillator(o),\n        active: (synth === null || synth === void 0 ? void 0 : synth.oscillator.type) === o\n      }, o, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 7\n  }, this);\n}\n\n_c4 = Drums;\nexport const DrumsInstrument = new MembraneInstrument('Drums', Drums);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"DrumKey\");\n$RefreshReg$(_c2, \"PianoKeyWithoutJSX\");\n$RefreshReg$(_c3, \"DrumType\");\n$RefreshReg$(_c4, \"Drums\");","map":{"version":3,"names":["Tone","classNames","List","Range","React","MembraneInstrument","DrumKey","note","synth","index","colors","triggerAttackRelease","backgroundColor","display","borderRadius","width","height","marginLeft","marginRight","PianoKeyWithoutJSX","minor","createElement","onMouseDown","triggerAttack","onMouseUp","triggerRelease","className","style","top","left","zIndex","DrumType","title","onClick","active","Drums","setSynth","keys","idx","setOscillator","newType","oldSynth","disconnect","MembraneSynth","oscillator","type","toDestination","oscillators","map","octave","key","isMinor","indexOf","o","DrumsInstrument"],"sources":["/Users/hadiramlaoui/Desktop/csc600/final-project-fullstacksquad/client/src/instruments/Drums.tsx"],"sourcesContent":["// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { MembraneInstrument, InstrumentProps } from '../DrumnIstrument';\n\n//Drum components \ninterface DrumKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n}\n\nexport function DrumKey({\n  note,\n  synth,\n  index,\n}: DrumKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the Drums.\n   * See `DrumsKeyWithoutJSX` for the React component without JSX.\n   */\n\n  // colors for drums\n  const colors = ['#ba53c2', '#9c51bd', '#744caf', '#4d439c', '#33378a']\n\n  return (\n      // Observations:\n      // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n      // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n      // 3. The curly braces `{` and `}` should remind you of string interpolation.\n      <div\n          onMouseDown={() => synth?.triggerAttackRelease(`${note}`, '8n')}\n          className={classNames('pointer relative drum top')}\n          style={{\n              // CSS\n              // padding: 10,\n              // margin: 20,\n              // backgroundColor: '#D2B48C',\n              backgroundColor: colors[index],\n              display: \"inline-block\",\n              borderRadius: \"50%\",\n              width: 175-(index*15),\n              height: 175-(index*15),\n              marginLeft: (index)+10,\n              marginRight: 5-(index)\n              // left: `${(index*12)}rem`,\n              }}\n      ></div >\n  );\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index,\n}: DrumKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}\n\nfunction DrumType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction Drums({ synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n      { note: 'A1', idx: 0 },\n      { note: 'B1', idx: 1 },\n      { note: 'D2', idx: 2 },\n      { note: 'C2', idx: 3 },\n      { note: 'E2', idx: 4 }\n  ]);\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n        oldSynth.disconnect();\n\n        return new Tone.MembraneSynth({\n            oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n            \"envelope\": {\n                \"attack\": 0.001,\n                \"decay\": 0.35,\n                \"sustain\": 0.01,\n                \"release\": 1.4,\n            },\n            \"octaves\": 9,\n            \"pitchDecay\": 0.0005,\n        }).toDestination();\n    });\n};\n\n    const oscillators: List<OscillatorType> = List([\n      'sine',\n      'sawtooth',\n      'square',\n      'triangle',\n      'fmsine',\n      'fmsawtooth',\n      'fmtriangle',\n      'amsine',\n      'amsawtooth',\n      'amtriangle',\n    ]) as List<OscillatorType>;\n\n    return (\n      <div className=\"pv4\">\n        <div className=\"relative dib h4 w-100 ml4\">\n          {Range(2, 7).map(octave =>\n            keys.map(key => {\n              const isMinor = key.note.indexOf('b') !== -1;\n              const note = `${key.note}${octave}`;\n              return (\n                <DrumKey\n                  key={note} //react key\n                  note={note}\n                  synth={synth}\n                  minor={isMinor}\n                  octave={octave}\n                  index={(octave - 2) * 7 + key.idx}\n                />\n              );\n            }),\n          )}\n        </div>\n        <div className={'pl4 pt4 flex'}>\n          {oscillators.map(o => (\n            <DrumType\n              key={o}\n              title={o}\n              onClick={() => setOscillator(o)}\n              active={synth?.oscillator.type === o}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  export const DrumsInstrument = new MembraneInstrument('Drums', Drums);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}