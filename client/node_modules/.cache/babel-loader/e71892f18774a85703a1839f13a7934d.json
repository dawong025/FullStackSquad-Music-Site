{"ast":null,"code":"import { Gain } from \"../core/context/Gain\";\nimport { readOnly } from \"../core/util/Interface\";\nimport { Effect } from \"./Effect\";\n/**\n * FeedbackEffect provides a loop between an audio source and its own output.\n * This is a base-class for feedback effects.\n */\n\nexport class FeedbackEffect extends Effect {\n  constructor(options) {\n    super(options);\n    this.name = \"FeedbackEffect\";\n    this._feedbackGain = new Gain({\n      context: this.context,\n      gain: options.feedback,\n      units: \"normalRange\"\n    });\n    this.feedback = this._feedbackGain.gain;\n    readOnly(this, \"feedback\"); // the feedback loop\n\n    this.effectReturn.chain(this._feedbackGain, this.effectSend);\n  }\n\n  static getDefaults() {\n    return Object.assign(Effect.getDefaults(), {\n      feedback: 0.125\n    });\n  }\n\n  dispose() {\n    super.dispose();\n\n    this._feedbackGain.dispose();\n\n    this.feedback.dispose();\n    return this;\n  }\n\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAT,QAAqB,sBAArB;AAGA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,MAAT,QAAsC,UAAtC;AAgBA;;;;;AAIA,OAAM,MAAgBC,cAAhB,SAA8ED,MAA9E,CAA6F;EAclGE,YAAYC,OAAZ,EAA0C;IAEzC,MAAMA,OAAN;IAdQ,YAAe,gBAAf;IAgBR,KAAKC,aAAL,GAAqB,IAAIN,IAAJ,CAAS;MAC7BO,OAAO,EAAE,KAAKA,OADe;MAE7BC,IAAI,EAAEH,OAAO,CAACI,QAFe;MAG7BC,KAAK,EAAE;IAHsB,CAAT,CAArB;IAMA,KAAKD,QAAL,GAAgB,KAAKH,aAAL,CAAmBE,IAAnC;IACAP,QAAQ,CAAC,IAAD,EAAO,UAAP,CAAR,CAXyC,CAazC;;IACA,KAAKU,YAAL,CAAkBC,KAAlB,CAAwB,KAAKN,aAA7B,EAA4C,KAAKO,UAAjD;EACA;;EAEiB,OAAXC,WAAW;IACjB,OAAOC,MAAM,CAACC,MAAP,CAAcd,MAAM,CAACY,WAAP,EAAd,EAAoC;MAC1CL,QAAQ,EAAE;IADgC,CAApC,CAAP;EAGA;;EAEDQ,OAAO;IACN,MAAMA,OAAN;;IACA,KAAKX,aAAL,CAAmBW,OAAnB;;IACA,KAAKR,QAAL,CAAcQ,OAAd;IACA,OAAO,IAAP;EACA;;AA1CiG","names":["Gain","readOnly","Effect","FeedbackEffect","constructor","options","_feedbackGain","context","gain","feedback","units","effectReturn","chain","effectSend","getDefaults","Object","assign","dispose"],"sourceRoot":"","sources":["../../../Tone/effect/FeedbackEffect.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}