{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { OfflineContext } from \"../../core/context/OfflineContext\";\n/**\n * Render a segment of the oscillator to an offline context and return the results as an array\n */\n\nexport function generateWaveform(instance, length) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const duration = length / instance.context.sampleRate;\n    const context = new OfflineContext(1, duration, instance.context.sampleRate);\n    const clone = new instance.constructor(Object.assign(instance.get(), {\n      // should do 2 iterations\n      frequency: 2 / duration,\n      // zero out the detune\n      detune: 0,\n      context\n    })).toDestination();\n    clone.start(0);\n    const buffer = yield context.render();\n    return buffer.getChannelData(0);\n  });\n}","map":{"version":3,"mappings":";AAIA,SAASA,cAAT,QAA+B,mCAA/B;AAsGA;;;;AAGA,OAAM,SAAgBC,gBAAhB,CAAiCC,QAAjC,EAAgDC,MAAhD,EAA8D;;IACnE,MAAMC,QAAQ,GAAGD,MAAM,GAAGD,QAAQ,CAACG,OAAT,CAAiBC,UAA3C;IACA,MAAMD,OAAO,GAAG,IAAIL,cAAJ,CAAmB,CAAnB,EAAsBI,QAAtB,EAAgCF,QAAQ,CAACG,OAAT,CAAiBC,UAAjD,CAAhB;IACA,MAAMC,KAAK,GAAG,IAAIL,QAAQ,CAACM,WAAb,CAAyBC,MAAM,CAACC,MAAP,CAAcR,QAAQ,CAACS,GAAT,EAAd,EAA8B;MACpE;MACAC,SAAS,EAAE,IAAIR,QAFqD;MAGpE;MACAS,MAAM,EAAE,CAJ4D;MAKpER;IALoE,CAA9B,CAAzB,EAMVS,aANU,EAAd;IAOAP,KAAK,CAACQ,KAAN,CAAY,CAAZ;IACA,MAAMC,MAAM,GAAG,MAAMX,OAAO,CAACY,MAAR,EAArB;IACA,OAAOD,MAAM,CAACE,cAAP,CAAsB,CAAtB,CAAP;EACA;AAAA","names":["OfflineContext","generateWaveform","instance","length","duration","context","sampleRate","clone","constructor","Object","assign","get","frequency","detune","toDestination","start","buffer","render","getChannelData"],"sourceRoot":"","sources":["../../../../Tone/source/oscillator/OscillatorInterface.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}